<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="author" content="Wouter Beek">
    <meta name="description" content="Querying Knowledge Graphs">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="/resource/css/presentation.css">
    <link rel="stylesheet" href="/resource/reveal.js-3.7.0/lib/css/default.css">
    <link rel="stylesheet" href="/resource/reveal.js-3.7.0/css/reveal.css">
    <link rel="stylesheet" href="/resource/reveal.js-3.7.0/css/theme/simple.css" id="theme">
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? '/resource/reveal.js-3.7.0/css/print/pdf.css' : '/resource/reveal.js-3.7.0/css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
    <title>Querying Knowledge Graphs</title>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">

        <section>
          <h2>Querying Knowledge Graphs</h2>
          <p><a href="http://wouterbeek.com">Wouter Beek</a>
            (<a href="mailto:wouter@triply.cc">wouter@triply.cc</a>)</p>
          <a href="https://triply.cc/" target="_blank">
            <img src="/resource/img/triply/logo.svg" height="150">
          </a>
        </section>

        <section>
          <section>
            <h2>Part I: Triple Patterns</h2>
          </section>

          <section>
            <h3><a href="https://demo.triply.cc/academy/pokemon/sparql/pokemon#query=select%20*%20%7B%0A%20%20%3Fs%20%3Fp%20%3Fo.%0A%7D%0Alimit%2025%0A&endpoint=https%3A%2F%2Fdemo.triply.cc%2F_api%2Fdatasets%2Frce%2Fall%2Fservices%2Fall%2Fsparql&requestMethod=POST&tabTitle=Q1.1&headers=%7B%7D&contentTypeConstruct=text%2Fturtle%2C*%2F*%3Bq%3D0.9&contentTypeSelect=application%2Fsparql-results%2Bjson%2C*%2F*%3Bq%3D0.9&outputFormat=table" target="_blank">The first SPARQL query</a></h3>
            <figure>
              <pre><code class="sparql" data-noescape data-trim>select * {
  ?s ?p ?o.
}
limit 25</code></pre>
              <figcaption>
                <dl class="small">
                  <dt><code>select *</code></dt>
                  <dd><i>Projection</i>: the variables whose bindings
                    are returned (<i>result set</i>).  <code>*</code>
                    means bindings for all variables are
                    returned.</dd>
                  <dt><code>{ ?s ?p ?o. }</code></dt>
                  <dd>The <i>graph pattern</i> that is matched.
                      Variables start with a question mark.</dd>
                  <dt><code>limit 25</code></dt>
                  <dd><i>Modifier</i> over the result set: only show
                    the first 25 results.</dd>
                </dl>
              </figcaption>
            </figure>
          </section>

          <section>
            <h3><a href="https://demo.triply.cc/academy/pokemon/sparql/pokemon#query=select%20*%20%7B%0A%20%20%3Fpokemon%20%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2Fdepiction%3E%20%3Fimage.%0A%7D%0Alimit%2025&endpoint=https%3A%2F%2Fdemo.triply.cc%2F_api%2Fdatasets%2Facademy%2Fpokemon%2Fservices%2Fpokemon%2Fsparql&requestMethod=POST&tabTitle=Q1.2&headers=%7B%7D&contentTypeConstruct=text%2Fturtle%2C*%2F*%3Bq%3D0.9&contentTypeSelect=application%2Fsparql-results%2Bjson%2C*%2F*%3Bq%3D0.9&outputFormat=table" target="_blank">Query for a specific predicate</a></h3>
            <figure>
              <pre><code class="sparql" data-noescape data-trim>select * {
  <mark>?pokemon &lt;http://xmlns.com/foaf/0.1/depiction&gt; ?image.</mark>
}
limit 25</code></pre>
              <figcaption class="small">
                <dl>
                  <dt><code>&lt;http://xmlns.com/foaf/0.1/depiction&gt;</code></dt>
                  <dd>A specific predicate term.</dd>
                  <dt><code>?pokemon</code> and <code>?image</code></dt>
                  <dd>Use descriptive names for variables.</dd>
                </dl>
              </figcaption>
            </figure>
          </section>

          <section>
            <h3><a href="https://demo.triply.cc/academy/pokemon/sparql/pokemon#query=prefix%20foaf%3A%20%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0Aselect%20*%20%7B%0A%20%20%3Fpokemon%20foaf%3Adepiction%20%3Fimage.%0A%7D%0Alimit%2025&endpoint=https%3A%2F%2Fdemo.triply.cc%2F_api%2Fdatasets%2Facademy%2Fpokemon%2Fservices%2Fpokemon%2Fsparql&requestMethod=POST&tabTitle=Q1.3&headers=%7B%7D&contentTypeConstruct=text%2Fturtle%2C*%2F*%3Bq%3D0.9&contentTypeSelect=application%2Fsparql-results%2Bjson%2C*%2F*%3Bq%3D0.9&outputFormat=table" target="_blank">Abbreviate IRIs</a></h3>
            <figure>
              <pre><code data-noescape data-trim><mark>prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt;</mark>
select * {
  ?pokemon <mark>foaf:depiction</mark> ?image.
}
limit 25</code></pre>
              <figcaption class="small">
                <dl>
                </dl>
              </figcaption>
            </figure>
          </section>

          <section>
            <h3><a href="https://demo.triply.cc/academy/pokemon/sparql/pokemon#query=prefix%20foaf%3A%20%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0Aselect%20%3Fimage%20%7B%0A%20%20%3Fpokemon%20foaf%3Adepiction%20%3Fimage.%0A%7D%0Alimit%2025&endpoint=https%3A%2F%2Fdemo.triply.cc%2F_api%2Fdatasets%2Facademy%2Fpokemon%2Fservices%2Fpokemon%2Fsparql&requestMethod=POST&tabTitle=Q1.4&headers=%7B%7D&contentTypeConstruct=text%2Fturtle%2C*%2F*%3Bq%3D0.9&contentTypeSelect=application%2Fsparql-results%2Bjson%2C*%2F*%3Bq%3D0.9&outputFormat=table" target="_blank">Change the projection</a></h3>
            <figure>
              <pre><code class="sparql" data-noescape data-trim>prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
select <mark>?image</mark> {
  ?pokemon foaf:depiction ?image.
}
limit 25</code></pre>
              <figcaption class="small">
                <dl>
                  <dt><code>?image</code></dt>
                  <dd>Only return the bindings for this variable.</dd>
                  <dt><code>?pokemon</code></dt>
                  <dd>A <em>hidden variable</em>: one whose bindings are not returned.</dd>
                </dl>
              </figcaption>
            </figure>
          </section>

          <section>
            <h3><a href="https://demo.triply.cc/academy/pokemon/sparql/pokemon#query=prefix%20foaf%3A%20%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0Aselect%20*%20%7B%0A%20%20%3Fpokemon%20foaf%3Adepiction%20%3Fimage.%0A%20%20bind(concat('%3Cimg%20src%3D%22'%2C%3Fimage%2C'%22%3E')%20as%20%3Fwidget)%0A%7D%0Alimit%2025&endpoint=https%3A%2F%2Fdemo.triply.cc%2F_api%2Fdatasets%2Facademy%2Fpokemon%2Fservices%2Fpokemon%2Fsparql&requestMethod=POST&tabTitle=Q1.5&headers=%7B%7D&contentTypeConstruct=text%2Fturtle%2C*%2F*%3Bq%3D0.9&contentTypeSelect=application%2Fsparql-results%2Bjson%2C*%2F*%3Bq%3D0.9&outputFormat=gallery" target="_blank">Introduce variables with <code>bind</code></a></h3>
            <figure>
              <pre><code class="sparql" data-noescape data-trim>prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
select * {
  ?pokemon foaf:depiction ?image.
  <mark>bind(concat('&lt;img src="',?image,'"&gt;') as ?widget)</mark>
}
limit 25</code></pre>
              <figcaption class="small">
                <dl>
                  <dt><code>bind(EXPRESSION) as ?x</code></dt>
                  <dd>The result of evaluating <code>EXPRESSION</code>
                    is bound to <code>?x</code>.</dd>
                  <dt><code>concat(STRING,â€¦)</code></dt>
                  <dd>Concatenates an arbitrary number of strings.</dd>
                </dl>
              </figcaption>
            </figure>
          </section>

          <section>
            <h3><a href="https://demo.triply.cc/academy/pokemon/sparql/pokemon#query=prefix%20foaf%3A%20%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0Aselect%20*%20%7B%0A%20%20%3Fpokemon%20foaf%3Adepiction%20%3Fimage.%0A%20%20bind(concat('%3Cimg%20src%3D%22'%2C%3Fimage%2C'%22%3E')%20as%20%3Fwidget)%0A%7D%0Alimit%20250%0A&endpoint=https%3A%2F%2Fdemo.triply.cc%2F_api%2Fdatasets%2Facademy%2Fpokemon%2Fservices%2Fpokemon%2Fsparql&requestMethod=POST&tabTitle=Q1.6&headers=%7B%7D&contentTypeConstruct=text%2Fturtle%2C*%2F*%3Bq%3D0.9&contentTypeSelect=application%2Fsparql-results%2Bjson%2C*%2F*%3Bq%3D0.9&outputFormat=gallery" target="_blank">Change the limit</a></h3>
            <figure>
              <pre><code class="sparql" data-noescape data-trim>prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
select * {
  ?pokemon foaf:depiction ?image.
  bind(concat('&lt;img src="',?image,'"&gt;') as ?widget)
}
limit <mark>250</mark></code></pre>
              <figcaption class="small">
                The implicit limit is 10,000 results.  (This is implementation-specific.)
              </figcaption>
            </figure>
          </section>

          <section>
            <h3><a href="https://demo.triply.cc/academy/pokemon/sparql/pokemon#query=prefix%20foaf%3A%20%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0Aselect%20*%20%7B%0A%20%20%3Fpokemon%20foaf%3Adepiction%20%3Fimage.%0A%20%20bind(concat('%3Cimg%20src%3D%22'%2C%3Fimage%2C'%22%3E')%20as%20%3Fwidget)%0A%7D%0Alimit%2025%0Aoffset%20250&endpoint=https%3A%2F%2Fdemo.triply.cc%2F_api%2Fdatasets%2Facademy%2Fpokemon%2Fservices%2Fpokemon%2Fsparql&requestMethod=POST&tabTitle=Q1.7&headers=%7B%7D&contentTypeConstruct=text%2Fturtle%2C*%2F*%3Bq%3D0.9&contentTypeSelect=application%2Fsparql-results%2Bjson%2C*%2F*%3Bq%3D0.9&outputFormat=gallery" target="_blank">Add an offset</a></h3>
            <figure>
              <pre><code class="sparql" data-noescape data-trim>prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
select * {
  ?pokemon foaf:depiction ?image.
  bind(concat('&lt;img src="',?image,'"&gt;') as ?widget)
}
limit 25
<mark>offset 250</mark></code></pre>
              <figcaption class="small">
                <dl>
                  <dt><code>offset 250</code></dt>
                  <dd>Skips the first 250 results, returning the 251<sup>st</sup> through the 260<sup>th</sup> result.</dd>
                </dl>
              </figcaption>
            </figure>
          </section>
        </section>



        <section>
          <section>
            <h2>Part II: Graph patterns</h2>
          </section>

          <section>
            <h3><a href="https://demo.triply.cc/academy/pokemon/sparql/pokemon#query=prefix%20def%3A%20%3Chttps%3A%2F%2Fdemo.triply.cc%2Facademy%2Fpokemon%2Fdef%2F%3E%0Aprefix%20foaf%3A%20%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0Aselect%20*%20%7B%0A%20%20%3Fpokemon%20foaf%3Adepiction%20%3Fimage%3B%0A%20%20%20%20%20%20%20%20%20%20%20def%3Acry%20%3Fcry.%0A%20%20bind(concat('%3Cimg%20src%3D%22'%2C%3Fimage%2C'%22%3E%3Caudio%20controls%20src%3D%22'%2C%3Fcry%2C'%22%3E%3C%2Faudio%3E')%20as%20%3Fwidget)%0A%7D%0Alimit%2025%0A&endpoint=https%3A%2F%2Fdemo.triply.cc%2F_api%2Fdatasets%2Facademy%2Fpokemon%2Fservices%2Fpokemon%2Fsparql&requestMethod=POST&tabTitle=Q2.1&headers=%7B%7D&contentTypeConstruct=text%2Fturtle%2C*%2F*%3Bq%3D0.9&contentTypeSelect=application%2Fsparql-results%2Bjson%2C*%2F*%3Bq%3D0.9&outputFormat=gallery" target="_blank">Graph pattern (2 triple patterns)</a></h3>
            <figure>
              <pre><code class="sparql" data-noescape data-trim>select * {
  ?pokemon foaf:depiction ?image;
           def:cry ?cry.
}
limit 25</code></pre>
              <figcaption class="small">
                <dl>
                  <dt><code>?pokemon</code></dt>
                  <dd>A <em>shared variable</em> connects two triple patterns.  Connected triple patterns form a <em>graph pattern</em>.</dd>
                  <dt>Turtle abbreviations can be used</dt>
                  <dd>Repeat subject (<code>;</code>), repeat subject and predicate (<code>,</code>).</dd>
                </dl>
              </figcaption>
            </figure>
          </section>

          <section>
            <h3><a href="https://demo.triply.cc/academy/pokemon/sparql/pokemon#query=prefix%20def%3A%20%3Chttps%3A%2F%2Fdemo.triply.cc%2Facademy%2Fpokemon%2Fdef%2F%3E%0Aprefix%20foaf%3A%20%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0Aprefix%20rdfs%3A%20%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0Aselect%20*%20%7B%0A%20%20%3Fpokemon%20foaf%3Adepiction%20%3Fimage%3B%0A%20%20%20%20%20%20%20%20%20%20%20def%3Acry%20%3Fcry%3B%0A%20%20%20%20%20%20%20%20%20%20%20rdfs%3Alabel%20%3Fname.%0A%20%20bind(concat('%3Ch1%3E'%2C%3Fname%2C'%3C%2Fh1%3E%3Cimg%20src%3D%22'%2C%3Fimage%2C'%22%3E%3Caudio%20controls%20src%3D%22'%2C%3Fcry%2C'%22%3E%3C%2Faudio%3E')%20as%20%3Fwidget)%0A%7D%0Alimit%2025%0A&endpoint=https%3A%2F%2Fdemo.triply.cc%2F_api%2Fdatasets%2Facademy%2Fpokemon%2Fservices%2Fpokemon%2Fsparql&requestMethod=POST&tabTitle=Q2.2&headers=%7B%7D&contentTypeConstruct=text%2Fturtle%2C*%2F*%3Bq%3D0.9&contentTypeSelect=application%2Fsparql-results%2Bjson%2C*%2F*%3Bq%3D0.9&outputFormat=gallery" target="_blank">Graph pattern (3 triple patterns)</a></h3>
            <figure>
              <pre><code class="sparql" data-noescape data-trim>select * {
  ?pokemon foaf:depiction ?image;
           def:cry ?cry<mark>;
           rdfs:label ?name</mark>.
}
limit 25</code></pre>
              <figcaption>
                <p>Predicates from different <em>vocabularies</em>:</p>
                <dl class="small">
                  <dt><a href="http://xmlns.com/foaf/0.1/depiction"><code>http://xmlns.com/foaf/0.1/depicts</code></a></dt>
                  <dd>Friend of a Friend (FOAF)</dd>
                  <dt><a href="http://www.w3.org/2000/01/rdf-schema#"><code>http://www.w3.org/2000/01/rdf-schema#</code></a></dt>
                  <dd>RDF Schema (RDFS)</dd>
                </dl>
              </figcaption>
            </figure>
          </section>

          <section>
            <h3><a href="https://demo.triply.cc/academy/pokemon/sparql/pokemon#query=prefix%20def%3A%20%3Chttps%3A%2F%2Fdemo.triply.cc%2Facademy%2Fpokemon%2Fdef%2F%3E%0Aprefix%20foaf%3A%20%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0Aprefix%20rdfs%3A%20%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0Aselect%20*%20%7B%0A%20%20%3Fpokemon%20foaf%3Adepiction%20%3Fimage%3B%0A%20%20%20%20%20%20%20%20%20%20%20def%3Acry%20%3Fcry%3B%0A%20%20%20%20%20%20%20%20%20%20%20rdfs%3Alabel%20%3Fname%3B%0A%20%20%20%20%20%20%20%20%20%20%20def%3Atype%20%3Ftype.%0A%20%20%3Ftype%20rdfs%3Alabel%20%3FtypeName.%0A%20%20bind(concat('%3Ch3%3E'%2C%3FtypeName%2C'%20%E3%80%8B%20'%2C%3Fname%2C'%3C%2Fh%3E%3Cimg%20src%3D%22'%2C%3Fimage%2C'%22%3E%3Caudio%20controls%20src%3D%22'%2C%3Fcry%2C'%22%3E%3C%2Faudio%3E')%20as%20%3Fwidget)%0A%7D%0Alimit%2025%0A&endpoint=https%3A%2F%2Fdemo.triply.cc%2F_api%2Fdatasets%2Facademy%2Fpokemon%2Fservices%2Fpokemon%2Fsparql&requestMethod=POST&tabTitle=Q2.3&headers=%7B%7D&contentTypeConstruct=text%2Fturtle%2C*%2F*%3Bq%3D0.9&contentTypeSelect=application%2Fsparql-results%2Bjson%2C*%2F*%3Bq%3D0.9&outputFormat=gallery" target="_blank">Graph pattern (5 triple patterns)</a></h3>
            <figure>
              <pre><code class="sparql" data-noescape data-trim>select * {
  ?pokemon foaf:depiction ?image;
           def:cry ?cry;
           rdfs:label ?name<mark>;
           def:type ?type</mark>.
  <mark>?type rdfs:label ?typeName.</mark>
}
limit 25</code></pre>
            </figure>
          </section>

          <section>
            <h3><a href="https://demo.triply.cc/academy/pokemon/sparql/pokemon#query=prefix%20def%3A%20%3Chttps%3A%2F%2Fdemo.triply.cc%2Facademy%2Fpokemon%2Fdef%2F%3E%0Aprefix%20foaf%3A%20%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0Aprefix%20rdfs%3A%20%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0Aselect%20*%20%7B%0A%20%20%3Fpokemon%20foaf%3Adepiction%20%3Fimage%3B%0A%20%20%20%20%20%20%20%20%20%20%20def%3Acry%20%3Fcry%3B%0A%20%20%20%20%20%20%20%20%20%20%20rdfs%3Alabel%20%3Fname%3B%0A%20%20%20%20%20%20%20%20%20%20%20def%3Atype%20%3Ftype.%0A%20%20%3Ftype%20rdfs%3Alabel%20%22Dragon%20Type%22%5E%5Exsd%3Astring.%0A%20%20bind(concat('%3Ch3%3E'%2C%3Fname%2C'%3C%2Fh%3E%3Cimg%20src%3D%22'%2C%3Fimage%2C'%22%3E%3Caudio%20controls%20src%3D%22'%2C%3Fcry%2C'%22%3E%3C%2Faudio%3E')%20as%20%3Fwidget)%0A%7D%0Alimit%2025%0A&endpoint=https%3A%2F%2Fdemo.triply.cc%2F_api%2Fdatasets%2Facademy%2Fpokemon%2Fservices%2Fpokemon%2Fsparql&requestMethod=POST&tabTitle=Q2.4&headers=%7B%7D&contentTypeConstruct=text%2Fturtle%2C*%2F*%3Bq%3D0.9&contentTypeSelect=application%2Fsparql-results%2Bjson%2C*%2F*%3Bq%3D0.9&outputFormat=gallery" target="_blank">Instantiating variables</a></h3>
            <figure>
              <pre><code class="sparql" data-noescape data-trim>select * {
  ?pokemon foaf:depiction ?image;
           def:cry ?cry;
           rdfs:label ?name;
           def:type ?type.
  ?type rdfs:label <mark>"Dragon Type"^^xsd:string</mark>.
}
limit 25</code></pre>
              <figcaption class="small">
                Instantiating a variable makes the query more specific.
              </figcaption>
            </figure>
          </section>

          <section>
            <h3><a href="https://demo.triply.cc/academy/pokemon/sparql/pokemon#query=prefix%20def%3A%20%3Chttps%3A%2F%2Fdemo.triply.cc%2Facademy%2Fpokemon%2Fdef%2F%3E%0Aprefix%20foaf%3A%20%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0Aprefix%20rdfs%3A%20%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0Aselect%20*%20%7B%0A%20%20%3Fpokemon%20foaf%3Adepiction%20%3Fimage%3B%0A%20%20%20%20%20%20%20%20%20%20%20rdfs%3Alabel%20%3Fname%3B%0A%20%20%20%20%20%20%20%20%20%20%20def%3Ahappiness%20%3Fhappiness.%0A%20%20bind(concat('%3Ch2%3E'%2C%3Fname%2C'%20('%2C%3Fhappiness%2C')%3C%2Fh2%3E%3Cimg%20src%3D%22'%2C%3Fimage%2C'%22%3E%3Caudio%20controls%20src%3D%22'%2C%3Fcry%2C'%22%3E%3C%2Faudio%3E')%20as%20%3Fwidget)%0A%7D%0Aorder%20by%20%3Fhappiness%0Alimit%2025%0A&endpoint=https%3A%2F%2Fdemo.triply.cc%2F_api%2Fdatasets%2Facademy%2Fpokemon%2Fservices%2Fpokemon%2Fsparql&requestMethod=POST&tabTitle=Q2.5&headers=%7B%7D&contentTypeConstruct=text%2Fturtle%2C*%2F*%3Bq%3D0.9&contentTypeSelect=application%2Fsparql-results%2Bjson%2C*%2F*%3Bq%3D0.9&outputFormat=gallery" target="_blank">Sort by happiness (lowest first)</a></h3>
            <figure>
              <pre><code class="sparql" data-noescape data-trim>select * {
  ?pokemon foaf:depiction ?image;
           rdfs:label ?name<mark>;
           def:happiness ?happiness</mark>.
}
<mark>order by ?happiness</mark>
limit 25</code></pre>
              <figcaption class="small">
                <dl>
                  <dt><code>order by ?x</code></dt>
                  <dd>Orders results by the bindings of <code>?x</code>.</dd>
                  <dt>
                </dl>
              </figcaption>
            </figure>
          </section>

          <section>
            <h3><a href="https://demo.triply.cc/academy/pokemon/sparql/pokemon#query=prefix%20def%3A%20%3Chttps%3A%2F%2Fdemo.triply.cc%2Facademy%2Fpokemon%2Fdef%2F%3E%0Aprefix%20foaf%3A%20%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0Aprefix%20rdfs%3A%20%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0Aselect%20*%20%7B%0A%20%20%3Fpokemon%20foaf%3Adepiction%20%3Fimage%3B%0A%20%20%20%20%20%20%20%20%20%20%20rdfs%3Alabel%20%3Fname%3B%0A%20%20%20%20%20%20%20%20%20%20%20def%3Ahappiness%20%3Fhappiness.%0A%20%20bind(concat('%3Ch2%3E'%2C%3Fname%2C'%20('%2C%3Fhappiness%2C')%3C%2Fh2%3E%3Cimg%20src%3D%22'%2C%3Fimage%2C'%22%3E%3Caudio%20controls%20src%3D%22'%2C%3Fcry%2C'%22%3E%3C%2Faudio%3E')%20as%20%3Fwidget)%0A%7D%0Aorder%20by%20desc(%3Fhappiness)%0Alimit%2025%0A&endpoint=https%3A%2F%2Fdemo.triply.cc%2F_api%2Fdatasets%2Facademy%2Fpokemon%2Fservices%2Fpokemon%2Fsparql&requestMethod=POST&tabTitle=Q2.6&headers=%7B%7D&contentTypeConstruct=text%2Fturtle%2C*%2F*%3Bq%3D0.9&contentTypeSelect=application%2Fsparql-results%2Bjson%2C*%2F*%3Bq%3D0.9&outputFormat=gallery" target="_blank">Sort by happiness (highest first)</a></h3>
            <figure>
              <pre><code class="sparql" data-noescape data-trim>select * {
  ?pokemon foaf:depiction ?image;
           rdfs:label ?name;
           def:happiness ?happiness.
}
order by <mark>desc(</mark>?happiness<mark>)</mark>
limit 25</code></pre>
              <figcaption>
                <dl>
                  <dt><code>order by desc(?x)</code></dt>
                  <dd><em>Inversely</em> orders results by the bindings of <code>?x</code>.</dd><dd>
                </dl>
              </figcaption>
            </figure>
          </section>

        </section>



        <section>
          <section>
            <h2>Part III: GeoSPARQL</h2>
          </section>

          <section>
            <h3><a href="https://test.triply.cc/academy/geodata/sparql/geodata#query=prefix%20geo%3A%20%3Chttp%3A%2F%2Fwww.opengis.net%2Font%2Fgeosparql%23%3E%0Aselect%20*%20%7B%0A%20%20%3Fmonument%20geo%3AhasGeometry%20%3Fgeometry.%0A%20%20%3Fgeometry%20geo%3AasWKT%20%3Fshape.%0A%7D%0Alimit%201000%0A&endpoint=https%3A%2F%2Fdemo.triply.cc%2F_api%2Fdatasets%2Frce%2Fall%2Fservices%2Fall%2Fsparql&requestMethod=POST&tabTitle=Q3.1&headers=%7B%7D&contentTypeConstruct=text%2Fturtle%2C*%2F*%3Bq%3D0.9&contentTypeSelect=application%2Fsparql-results%2Bjson%2C*%2F*%3Bq%3D0.9&outputFormat=geo&outputSettings=%7B%22map%22%3A%22osm%22%2C%22grouped%22%3Atrue%7D" target="_blank">A Simple GeoSPARQL Query</a></h3>
            <figure>
              <pre><code class="sparql" data-noescape data-trim>prefix geo: &lt;http://www.opengis.net/ont/geosparql#&gt;
select * {
  ?monument geo:hasGeometry ?geometry.
  ?geometry geo:asWKT ?shape.
}
limit 1000</code></pre>
              <figcaption>
                <dl>
                  <dt>
                    <a href="http://www.opengis.net/ont/geosparql#hasGeometry"><code>geo:hasGeometry</code></a>
                    and <a href="http://www.opengis.net/ont/geosparql#asWKT"><code>geo:asWKT</code></a>
                  </dt>
                  <dd>
                    GeoSPARQL, standardized by
                    the <a href="http://www.opengeospatial.org/">Open
                    Geospatial Consortium (OGC)</a>.
                  </dd>
                </dl>
              </figcaption>
            </figure>
          </section>

          <section>
            <h3><a href="https://test.triply.cc/academy/geodata/sparql/geodata#query=prefix%20geo%3A%20%3Chttp%3A%2F%2Fwww.opengis.net%2Font%2Fgeosparql%23%3E%0Aselect%20*%20%7B%0A%20%20%3Fmonument%20geo%3AhasGeometry%2Fgeo%3AasWKT%20%3Fshape.%0A%7D%0Alimit%201000%0A&endpoint=https%3A%2F%2Fdemo.triply.cc%2F_api%2Fdatasets%2Frce%2Fall%2Fservices%2Fall%2Fsparql&requestMethod=POST&tabTitle=Q3.2&headers=%7B%7D&contentTypeConstruct=text%2Fturtle%2C*%2F*%3Bq%3D0.9&contentTypeSelect=application%2Fsparql-results%2Bjson%2C*%2F*%3Bq%3D0.9&outputFormat=table" target="_blank">Property Path notation</a></h3>
            <figure>
              <pre><code class="sparql" data-noescape data-trim>prefix geo: &lt;http://www.opengis.net/ont/geosparql#&gt;
select * {
  ?monument geo:hasGeometry<mark>/</mark>geo:asWKT ?shape.
}
limit 1000</code></pre>
              <figcaption class="small">
                <dl>
                  <dt><code>p/q</code></dt>
                  <dd>Means follow property <code>p</code> and then
                    property <code>q</code> (and do not bind the node
                    in between).</dd>
                </dl>
              </figcaption>
            </figure>
          </section>

          <section>
            <h3><a href="https://test.triply.cc/academy/geodata/sparql/geodata#query=prefix%20geo%3A%20%3Chttp%3A%2F%2Fwww.opengis.net%2Font%2Fgeosparql%23%3E%0Aprefix%20owl%3A%20%3Chttp%3A%2F%2Fwww.w3.org%2F2002%2F07%2Fowl%23%3E%0Aselect%20*%20%7B%0A%20%20%7B%0A%20%20%20%20select%20*%20%7B%0A%20%20%20%20%20%20%3Fmonument%20geo%3AhasGeometry%2Fgeo%3AasWKT%20%3Fshape1%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20owl%3AsameAs%20%3Fpand.%0A%20%20%20%20%7D%0A%20%20%20%20limit%2010%0A%20%20%7D%0A%20%20service%20%3Chttps%3A%2F%2Fdata.pdok.nl%2Fsparql%3E%20%7B%0A%20%20%20%20%3Fpand%20geo%3AhasGeometry%2Fgeo%3AasWKT%20%3Fshape2.%0A%20%20%7D%0A%7D%0A&endpoint=https%3A%2F%2Fdemo.triply.cc%2F_api%2Fdatasets%2Frce%2Fall%2Fservices%2Fall%2Fsparql&requestMethod=POST&tabTitle=Q3.3&headers=%7B%7D&contentTypeConstruct=text%2Fturtle%2C*%2F*%3Bq%3D0.9&contentTypeSelect=application%2Fsparql-results%2Bjson%2C*%2F*%3Bq%3D0.9&outputFormat=table" target="_blank">Federated query</a></h3>
            <figure>
              <pre><code class="sparql" data-noescape data-trim>prefix geo: &lt;http://www.opengis.net/ont/geosparql#&gt;
prefix owl: &lt;http://www.w3.org/2002/07/owl#&gt;
select * {
  {
    select * {
      ?monument geo:hasGeometry/geo:asWKT ?shape1;
                owl:sameAs ?pand.
    }
    limit 10
  }
  <mark>service &lt;https://data.pdok.nl/sparql&gt; {</mark>
    ?pand geo:hasGeometry/geo:asWKT ?shape2.
  <mark>}</mark>
}</code></pre>
              <figcaption class="small">
                <dl>
                  <dt>Sub-select</dt>
                  <dd>First the inner query is performed, and then the
                    outer query is performed.</dd>
                  <dt><code>service &lt;IRI&gt; { QUERY }</code></dt>
                  <dd>Execute <code>QUERY</code> on
                    endpoint <code>IRI</code>.</dd>
                </dl>
              </figcaption>
            </figure>
          </section>

          <section>
            <h3><a href="https://test.triply.cc/academy/geodata/sparql/geodata#query=prefix%20bag%3A%20%3Chttp%3A%2F%2Fbag.basisregistraties.overheid.nl%2Fdef%2Fbag%23%3E%0Aprefix%20geo%3A%20%3Chttp%3A%2F%2Fwww.opengis.net%2Font%2Fgeosparql%23%3E%0Aprefix%20rdfs%3A%20%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0Aselect%20%3Fshape%20%7B%0A%20%20service%20%3Chttps%3A%2F%2Fdata.pdok.nl%2Fsparql%3E%20%7B%0A%20%20%20%20%3Fwoonplaats%20rdfs%3Alabel%20%22Amsterdam%22%40nl.%0A%20%20%20%20%3FopenbareRuimte%20bag%3AbijbehorendeWoonplaats%20%3Fwoonplaats%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bag%3AnaamOpenbareRuimte%20%22De%20Boelelaan%22.%0A%20%20%20%20%3Fnummeraanduiding%20bag%3AbijbehorendeOpenbareRuimte%20%3FopenbareRuimte%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bag%3Ahuisnummer%201105%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bag%3Apostcode%20%221081HV%22.%0A%20%20%20%20%3Fverblijfsobject%20bag%3Ahoofdadres%20%3Fnummeraanduiding%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bag%3Apandrelatering%20%3Fpand.%0A%20%20%20%20%3Fpand%20geo%3AhasGeometry%2Fgeo%3AasWKT%20%3Fshape.%0A%20%20%7D%0A%7D%0Alimit%201%0A&endpoint=https%3A%2F%2Fdemo.triply.cc%2F_api%2Fdatasets%2Facademy%2Fpokemon%2Fservices%2Fpokemon%2Fsparql&requestMethod=POST&tabTitle=Query&headers=%7B%7D&contentTypeConstruct=text%2Fturtle%2C*%2F*%3Bq%3D0.9&contentTypeSelect=application%2Fsparql-results%2Bjson%2C*%2F*%3Bq%3D0.9&outputFormat=geo&outputSettings=%7B%22map%22%3A%22osm%22%2C%22grouped%22%3Afalse%7D" target="_blank">Complex data model</a></h3>
            <figure>
              <pre><code class="sparql" data-noescape data-trim>prefix bag: &lt;http://bag.basisregistraties.overheid.nl/def/bag#&gt;
prefix geo: &lt;http://www.opengis.net/ont/geosparql#&gt;
prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
select ?shape {
  service &lt;https://data.pdok.nl/sparql&gt; {
    ?woonplaats rdfs:label "Amsterdam"@nl.
    ?openbareRuimte bag:bijbehorendeWoonplaats ?woonplaats;
                    bag:naamOpenbareRuimte "De Boelelaan".
    ?nummeraanduiding bag:bijbehorendeOpenbareRuimte ?openbareRuimte;
                      bag:huisnummer 1105;
                      bag:postcode "1081HV".
    ?verblijfsobject bag:hoofdadres ?nummeraanduiding;
                     bag:pandrelatering ?pand.
    ?pand geo:hasGeometry/geo:asWKT ?shape.
  }
}
limit 1</code></pre>
              <figcaption class="small">
                Data model of the Dutch Base Registry for Buildings (BAG).
              </figcaption>
            </figure>
          </section>

          <section>
            <h3><a href="https://test.triply.cc/academy/geodata/sparql/geodata#query=prefix%20bag%3A%20%3Chttp%3A%2F%2Fbag.basisregistraties.overheid.nl%2Fdef%2Fbag%23%3E%0Aprefix%20geo%3A%20%3Chttp%3A%2F%2Fwww.opengis.net%2Font%2Fgeosparql%23%3E%0Aselect%20%3Fshape%20%3FshapeLabel%20%7B%0A%20%20%3Fverblijfsobject%20bag%3Ahoofdadres%2Fbag%3AbijbehorendeOpenbareRuimte%2Fbag%3AbijbehorendeWoonplaats%2Fbag%3AnaamWoonplaats%20%22Apeldoorn%22%5E%5Exsd%3Astring%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bag%3Apandrelatering%20%3Fpand%20.%0A%20%20%3Fpand%20bag%3AoorspronkelijkBouwjaar%20%3FshapeLabel%20%3B%0A%20%20%20%20%20%20%20%20bag%3AgeometriePand%2Fgeo%3AasWKT%20%3Fshape%20.%0A%7D%0Aorder%20by%20asc(%3FshapeLabel)%0Alimit%2050%0A&endpoint=https%3A%2F%2Fdemo.triply.cc%2F_api%2Fdatasets%2Facademy%2Fpokemon%2Fservices%2Fpokemon%2Fsparql&requestMethod=POST&tabTitle=Query%201&headers=%7B%7D&contentTypeConstruct=text%2Fturtle%2C*%2F*%3Bq%3D0.9&contentTypeSelect=application%2Fsparql-results%2Bjson%2C*%2F*%3Bq%3D0.9&outputFormat=geo&outputSettings=%7B%22map%22%3A%22osm%22%2C%22grouped%22%3Afalse%7D" target="_blank">Large-scale queries</a></h3>
            <figure>
              <pre><code class="sparql" data-noescape data-trim>prefix bag: &lt;http://bag.basisregistraties.overheid.nl/def/bag#&gt;
prefix geo: &lt;http://www.opengis.net/ont/geosparql#&gt;
prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
select ?shape ?shapeLabel {
  ?verblijfsobject bag:hoofdadres/bag:bijbehorendeOpenbareRuimte/bag:bijbehorendeWoonplaats/bag:naamWoonplaats "Apeldoorn"^^xsd:string;
                   bag:pandrelatering ?pand.
  ?pand bag:geometriePand/geo:asWKT ?shape;
        bag:oorspronkelijkBouwjaar ?shapeLabel.
}
order by asc(?shapeLabel)
limit 50</code></pre>
              <figcaption class="small">
                Show the 50 oldest buildings in Apeldoorn.
              </figcaption>
            </figure>
          </section>

          <section>
            <h3><a href="https://nightly.yasgui.triply.cc/#query=prefix%20bag%3A%20%3Chttp%3A%2F%2Fbag.basisregistraties.overheid.nl%2Fdef%2Fbag%23%3E%0Aprefix%20geo%3A%20%3Chttp%3A%2F%2Fwww.opengis.net%2Font%2Fgeosparql%23%3E%0Aprefix%20rdfs%3A%20%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0Aselect%20%3Fshape%20%3FshapeColor%20%3FshapeHeight%20%3FshapeLabel%20%7B%0A%20%20bind(%22De%20Boelelaan%22%20as%20%3FstreetName)%0A%20%20%3Fplace%20rdfs%3Alabel%20%22Amsterdam%22%40nl.%0A%20%20graph%20%3Fgraph1%20%7B%0A%20%20%20%20%3FopenbareRuimte%20bag%3AbijbehorendeWoonplaats%20%3Fplace%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bag%3AnaamOpenbareRuimte%20%3FstreetName.%0A%20%20%7D%0A%20%20filter%20not%20exists%20%7B%20%3Fgraph1%20bag%3AeindGeldigheid%20%3Fend1.%20%7D%0A%20%20graph%20%3Fgraph2%20%7B%0A%20%20%20%20%3Fnummeraanduiding%20bag%3AbijbehorendeOpenbareRuimte%20%3FopenbareRuimte%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bag%3Ahuisnummer%20%3FhouseNumber%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bag%3Apostcode%20%3Fzipcode.%0A%20%20%7D%0A%20%20filter%20not%20exists%20%7B%20%3Fgraph2%20bag%3AeindGeldigheid%20%3Fend2.%20%7D%0A%20%20graph%20%3Fgraph3%20%7B%0A%20%20%20%20%3Fverblijfsobject%20a%20%3Fc%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bag%3Ahoofdadres%20%3Fnummeraanduiding%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bag%3Apandrelatering%20%3Fpand%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20geo%3AhasGeometry%2Fgeo%3AasWKT%20%3FshapeVerblijfsobject.%0A%20%20%7D%0A%20%20filter%20not%20exists%20%7B%20%3Fgraph3%20bag%3AeindGeldigheid%20%3Fend3.%20%7D%0A%20%20filter(%3Fc!%3Dbag%3AVerblijfsobject)%0A%20%20%3Fc%20rdfs%3Alabel%20%3FcLabel.%0A%20%20graph%20%3Fgraph4%20%7B%0A%20%20%20%20%3Fpand%20bag%3AgeometriePand%2Fgeo%3AasWKT%20%3Fshape.%0A%20%20%7D%0A%20%20filter%20not%20exists%20%7B%20%3Fgraph4%20bag%3AeindGeldigheid%20%3Fend4.%20%7D%0A%20%20bind(if(%3Fc%3Dbag%3AVerblijfsobjectWoonfunctie%2C%22green%22%2C%0A%20%20%20%20%20%20%20if(%3Fc%3Dbag%3AVerblijfsobjectWinkelfunctie%2C%22red%22%2C%0A%20%20%20%20%20%20%20if(%3Fc%3Dbag%3AVerblijfsobjectKantoorfunctie%2C%22blue%22%2C%0A%20%20%20%20%20%20%20if(%3Fc%3Dbag%3AVerblijfsobjectOnderwijsfunctie%2C%22yellow%22%2C%0A%20%20%20%20%20%20%20if(%3Fc%3Dbag%3AVerblijfsobjectGezondheidszorgfunctie%2C%22orange%22%2C%0A%20%20%20%20%20%20%20if(%3Fc%3Dbag%3AVerblijfsobjectSportfunctie%2C%22violet%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22orange%22))))))%20as%20%3FshapeColor)%0A%20%20bind(25%20as%20%3FshapeHeight)%0A%20%20bind(concat('%3Ch2%3E'%2C%3FstreetName%2C'%20'%2C%3FhouseNumber%2C'%2C%20'%2C%3Fzipcode%2C'%3C%2Fh2%3E'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20'%3Ch2%20style%3D%22color%3A%20'%2C%3FshapeColor%2C'%3B%22%3E'%2C%3FcLabel%2C'%3C%2Fh2%3E')%20as%20%3FshapeLabel)%0A%7D%0Alimit%20500%0A&endpoint=https%3A%2F%2Fdata.pdok.nl%2Fsparql&requestMethod=POST&tabTitle=Query%203.4&headers=%7B%7D&contentTypeConstruct=text%2Fturtle%2C*%2F*%3Bq%3D0.9&contentTypeSelect=application%2Fsparql-results%2Bjson%2C*%2F*%3Bq%3D0.9&outputFormat=geo3d" target="_blank">Geo-3D query</a></h3>
            <figure class="left">
              <a href="/resource/img/3d/boelelaan.png" target="_blank">
                <img src="/resource/img/3d/boelelaan.png">
              </a>
            </figure>
            <div class="right">
              <ul class="small">
                <li>
                  <svg height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><circle cx="15" cy="15" fill="green" r="15"/></svg>
                  Living space
                </li>
                <li>
                  <svg height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><circle cx="15" cy="15" fill="red" r="15"/></svg>
                  Shopping
                </li>
                <li>
                  <svg height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><circle cx="15" cy="15" fill="blue" r="15"/></svg>
                  Offices
                </li>
                <li>
                  <svg height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><circle cx="15" cy="15" fill="yellow" r="15"/></svg>
                  Education
                </li>
                <li>
                  <svg height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><circle cx="15" cy="15" fill="orange" r="15"/></svg>
                  Health
                </li>
                <li>
                  <svg height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><circle cx="15" cy="15" fill="violet" r="15"/></svg>
                  Sport
                </li>
              </ul>
            </div>
          </section>

          <section>
            <h3><a href="https://demo.triply.cc/cbs/wijkbuurt/sparql/wijkbuurt#query=prefix%20cbs%3A%20%3Chttps%3A%2F%2Ftriply.cc%2Fcbs%2Fdef%2F%3E%0Aprefix%20geo%3A%20%3Chttp%3A%2F%2Fwww.opengis.net%2Font%2Fgeosparql%23%3E%0Aprefix%20graph%3A%20%3Chttps%3A%2F%2Ftriply.cc%2Fcbs%2Fgraph%2F%3E%0Aprefix%20rdfs%3A%20%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0Aprefix%20xsd%3A%20%3Chttp%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema%23%3E%0Aselect%20%3Fshape%20%3FshapeColor%20%3FshapeLabel%20%7B%0A%20%20bind(%22Amsterdam%22%5E%5Exsd%3Astring%20as%20%3Fname1)%0A%20%20%7B%0A%20%20%20%20select%20(min(%3FavgValue)%20as%20%3Fmin)%20(max(%3FavgValue)%20as%20%3Fmax)%20%7B%0A%20%20%20%20%20%20graph%20graph%3Awijkbuurt-2016%20%7B%0A%20%20%20%20%20%20%20%20%3Ffeature3%0A%20%20%20%20%20%20%20%20%20%20cbs%3Awoz%20%3FavgValue%3B%0A%20%20%20%20%20%20%20%20%20%20geo%3AsfWithin%2Fgeo%3AsfWithin%2Frdfs%3Alabel%20%3Fname1.%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20graph%20graph%3Awijkbuurt-2016%20%7B%0A%20%20%20%20%3Ffeature3%0A%20%20%20%20%20%20cbs%3Awoz%20%3FavgValue%3B%0A%20%20%20%20%20%20geo%3AhasGeometry%2Fgeo%3AasWKT%20%3Fshape%3B%0A%20%20%20%20%20%20geo%3AsfWithin%20%5B%20geo%3AsfWithin%2Frdfs%3Alabel%20%3Fname1%3B%20rdfs%3Alabel%20%3Fname2%20%5D%3B%0A%20%20%20%20%20%20rdfs%3Alabel%20%3Fname3.%0A%20%20%7D%0A%20%20bind((xsd%3Afloat(%3FavgValue)-xsd%3Afloat(%3Fmin))%2F(xsd%3Afloat(%3Fmax)-xsd%3Afloat(%3Fmin))%20as%20%3Fnormalized)%0A%20%20bind(concat('jet%2C'%2Cstr(%3Fnormalized))%20as%20%3FshapeColor)%0A%20%20bind(concat(%0A%20%20%20%20'%3Ch3%3E'%2Cstr(%3Fname1)%2C'%20%C2%BB%3Cbr%3E'%2Cstr(%3Fname2)%2C'%20%C2%BB%3Cbr%3E'%2Cstr(%3Fname3)%2C'%3C%2Fh3%3E'%2C%0A%20%20%20%20'%3Ch4%3EAverage%20house%20value%3A%20%E2%82%AC%20'%2Creplace((1000*%3FavgValue)%2C'%5B0-9%5D(%3F%3D(%3F%3A%5B0-9%5D%7B3%7D)%2B(%3F!%5B0-9%5D))'%2C'%240.')%2C'%2C-%3C%2Fh4%3E')%20as%20%3FshapeLabel)%0A%7D%0Aorder%20by%20desc(%3FavgValue)%0Alimit%20400%0A&endpoint=https%3A%2F%2Fdemo.triply.cc%2F_api%2Fdatasets%2Fcbs%2Fwijkbuurt%2Fservices%2Fwijkbuurt%2Fsparql&requestMethod=POST&tabTitle=Query&headers=%7B%7D&contentTypeConstruct=text%2Fturtle%2C*%2F*%3Bq%3D0.9&contentTypeSelect=application%2Fsparql-results%2Bjson%2C*%2F*%3Bq%3D0.9&outputFormat=geo&outputSettings=%7B%22map%22%3A%22osm%22%2C%22grouped%22%3Afalse%7D">Average building values (WOZ)</a></h3>
            <figure>
              <a href="/resource/img/geo/woz.png" target="_blank">
                <img src="/resource/img/geo/woz.png">
              </a>
            </figure>
          </section>

          <section>
            <h3><a href="https://nightly.yasgui.triply.cc/#query=prefix%20bag%3A%20%3Chttp%3A%2F%2Fbag.basisregistraties.overheid.nl%2Fdef%2Fbag%23%3E%0Aprefix%20beeldbank%3A%20%3Chttps%3A%2F%2Fcultureelerfgoed.nl%2Fvocab%2F%3E%0Aprefix%20dbo%3A%20%3Chttp%3A%2F%2Fdbpedia.org%2Fontology%2F%3E%0Aprefix%20dct%3A%20%3Chttp%3A%2F%2Fpurl.org%2Fdc%2Fterms%2F%3E%0Aprefix%20energie%3A%20%3Chttp%3A%2F%2Fdata.labs.pdok.nl%2Fdataset%2Fenergie%23%3E%0Aprefix%20foaf%3A%20%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0Aprefix%20gemeente%3A%20%3Chttps%3A%2F%2Fdata.pdok.nl%2Fcbs%2Fid%2Fgemeente%2F%3E%0Aprefix%20geo%3A%20%3Chttp%3A%2F%2Fwww.opengis.net%2Font%2Fgeosparql%23%3E%0Aprefix%20kvk%3A%20%3Chttp%3A%2F%2Fdata.labs.pdok.nl%2Fdataset%2Fbedrijf%23%3E%0Aprefix%20monumenten%3A%20%3Chttp%3A%2F%2Flod.kb.nl%2Frce%2Fvocab%2Fid%2F01%2Fceo%23%3E%0Aprefix%20rdfs%3A%20%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0Aprefix%20schema%3A%20%3Chttp%3A%2F%2Fschema.org%2F%3E%0Aprefix%20vcard%3A%20%3Chttp%3A%2F%2Fwww.w3.org%2F2006%2Fvcard%2Fns%23%3E%0Aselect%20%3Fshape%20%3FshapeColor%20%3FshapeHeight%20%3FshapeName%20(sample(%3FshapeLabel)%20as%20%3FshapeLabel)%20%7B%0A%20%20%23values%20(%20%3Fpostcode%20%3Fhuisnummer%20)%20%7B%20(%20%228011LW%22%2015%20)%20(%20%228011LW%22%2019%20)%20%7D%0A%20%20graph%20%3Chttps%3A%2F%2Fdata.labs.pdok.nl%2Fgraph%2F3d-bag%3E%20%7B%0A%20%20%20%20%3FopenbareRuimte%20bag%3AnaamOpenbareRuimte%20%3FopenbareRuimteNaam%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bag%3AbijbehorendeWoonplaats%20%3Fwoonplaats%20.%0A%20%20%20%20%3Fwoonplaats%20bag%3AnaamWoonplaats%20%3FwoonplaatsNaam%20.%0A%20%20%20%20%3Fnummeraanduiding%20bag%3AbijbehorendeOpenbareRuimte%20%3FopenbareRuimte%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bag%3Ahuisnummer%20%3Fhuisnummer%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bag%3Apostcode%20%3Fpostcode%20.%0A%20%20%20%20%3Fverblijfsobject%20bag%3Ahoofdadres%20%3Fnummeraanduiding%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bag%3Aoppervlakte%20%3Foppervlakte%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bag%3Apandrelatering%20%3Fpand%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bag%3Astatus%20%3FverblijfsobjectStatus%20.%0A%20%20%20%20%3FverblijfsobjectStatus%20rdfs%3Alabel%20%3FverblijfsobjectStatusLabel%20.%0A%20%20%20%20%3Fpand%20geo%3AhasGeometry%2Fgeo%3AasWKT%20%3Fshape%20%3B%0A%20%20%20%20%20%20%20%20%20%20bag%3AoorspronkelijkBouwjaar%20%3Fbouwjaar%20%3B%0A%20%20%20%20%20%20%20%20%20%20bag%3Astatus%20%3FpandStatus%20.%0A%20%20%20%20%3FpandStatus%20rdfs%3Alabel%20%3FpandStatusLabel%20.%0A%20%20%7D%0A%20%20%3Fpand%20schema%3Aheight%20%3FshapeHeight%20.%0A%20%20%23%20energielabel%0A%20%20optional%20%7B%0A%20%20%20%20%3Fmeting%20energie%3Aep%20%3Fep%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20energie%3Ae_label%20%3Fenergielabel%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20energie%3Aopname_datum%20%3Fopnamedatum%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20energie%3Apand_huisnummer%20%3Fhuisnummer0%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20energie%3Apand_postcode%20%3Fpostcode%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20energie%3Aregistratie_datum%20%3Fregistratiedatum%20.%0A%20%20%20%20filter%20(str(%3Fhuisnummer)%20%3D%20%3Fhuisnummer0)%0A%20%20%7D%0A%20%20%23%20bedrijf%0A%20%20optional%20%7B%0A%20%20%20%20%3Fbedrijf%20kvk%3Aplace%20%22Zwolle%22%5E%5Exsd%3Astring%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20kvk%3AlegalFormDescription%20%3Flegal%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20kvk%3AsbiOmschrijving%20%3Fsbi%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20kvk%3Ahuisnummer%20%3Fhuisnummer%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20schema%3AlegalName%20%3Fnaam%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20kvk%3Astraat%20%3Fstraat%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20kvk%3Apostcode%20%3Fpostcode%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20schema%3AnumberOfEmployees%20%3Fwerknemers%20.%0A%20%20%7D%0A%20%20%23%20monument%0A%20%20optional%20%7B%0A%20%20%20%20graph%20%3Chttps%3A%2F%2Fdata.labs.pdok.nl%2Fgraph%2F3d-rce%3E%20%7B%0A%20%20%20%20%20%20%3Fmonument%20monumenten%3AhasLink%20%3FmonumentUrl%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20monumenten%3AhasPostCode%20%3Fpostcode%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20monumenten%3AhasRijksmonumentNumber%20%3Fcode%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20monumenten%3AhasRijksmonumentDefinition%20%3Fbeschrijving%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20monumenten%3AhasStreetNumber%20%3Fhuisnummer%20.%0A%20%20%20%20%7D%0A%20%20%20%20bind%20(IRI(concat('https%3A%2F%2Fcultureelerfgoed.nl%2Fid%2Fmonument%2F'%2Cstr(%3Fcode)))%20as%20%3Fx)%0A%20%20%20%20optional%20%7B%0A%20%20%20%20%20%20%3Fafbeelding%20foaf%3Adepicts%20%3Fx%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20beeldbank%3Alocator%20%3FafbeeldingUrl%20.%0A%20%20%20%20%7D%0A%20%20%20%20bind%20(concat('%3Ca%20href%3D%22'%2Cstr(%3FafbeeldingUrl)%2C'%22%20target%3D%22_blank%22%3E%3Cimg%20src%3D%22'%2Cstr(%3FafbeeldingUrl)%2C'%22%20style%3D%22max-height%3A%20100px%3B%22%3E%3C%2Fa%3E')%20as%20%3FafbeeldingLabel)%0A%20%20%7D%0A%20%20%23%20HTML%20label%3A%20RCE%0A%20%20bind%20(if(bound(%3FafbeeldingLabel)%2Cconcat('%3Ch5%3E%F0%9F%96%BC%20Beelden%20uit%20de%20beeldbank%3A%3C%2Fh5%3E%3Cdiv%20style%3D%22max-height%3A125px%3B%20overflow-y%3A%20scroll%3B%22%3E'%2C%3FafbeeldingLabel%2C'%3C%2Fdiv%3E')%2C'')%20as%20%3FmonumentString1)%0A%20%20bind%20(if(bound(%3Fcode)%2Cconcat('%3Ch5%3E%E2%9B%AA%20%3Ca%20href%3D%22'%2Cstr(%3FmonumentUrl)%2C'%22%20target%3D%22_blank%22%3EMonument%20'%2Cstr(%3Fcode)%2C'%3C%2Fa%3E%3C%2Fh5%3E%3Cp%20style%3D%22max-height%3A%20125px%3B%20overflow-y%3A%20scroll%3B%22%3E'%2Cstr(%3Fbeschrijving)%2C'%3C%2Fp%3E'%2C%3FmonumentString1)%2C'')%20as%20%3FmonumentString2)%0A%20%20bind%20(%0A%20%20%20%20if%20(bound(%3Fenergielabel)%2C%0A%20%20%20%20%20%20if(strstarts(%3Fenergielabel%2C%20%22A%22)%2C%20%22%2322b14c%22%2C%0A%20%20%20%20%20%20%20%20if(%3Fenergielabel%3D%22B%22%2C%20%22%238ff334%22%2C%0A%20%20%20%20%20%20%20%20%20%20if(%3Fenergielabel%3D%22C%22%2C%20%22%23bdfc2c%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20if(%3Fenergielabel%3D%22D%22%2C%20%22%23fff200%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if(%3Fenergielabel%3D%22E%22%2C%20%22%23ff9a35%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if(%3Fenergielabel%3D%22F%22%2C%20%22%23ff7f27%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if(%3Fenergielabel%3D%22G%22%2C%20%22%23ed1c24%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22grey%22)))))))%2C%0A%20%20%20%20%20%20%20%20if(bound(%3Fbedrijf)%2C%20%22%234169e188%22%2C%0A%20%20%20%20%20%20%20%20%20%20if(bound(%3Fmonument)%2C%20%22%234169e188%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%234169e133%22))%0A%20%20%20%20)%20as%20%3FshapeColor)%0A%20%20%23%20HTML%20label%3A%20RVO%0A%20%20bind%20(if(bound(%3Fmeting)%2Cconcat('%3Csvg%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Ccircle%20cx%3D%2210%22%20cy%3D%2210%22%20fill%3D%22'%2Cstr(%3FshapeColor)%2C'%22%20r%3D%2210%22%2F%3E%3C%2Fsvg%3E%20')%2C'')%20as%20%3FenergielabelString1)%0A%20%20bind%20(if(bound(%3Fmeting)%2Cconcat('%3Ch5%3E%F0%9F%97%B2%20Energielabel%20informatie%3A%3C%2Fh5%3E%3Cul%3E%3Cli%3EEnergielabel%3A%20'%2Cstr(%3Fenergielabel)%2C'%3C%2Fli%3E%3Cli%3EEP%3A%20'%2Cstr(%3Fep)%2C'%3C%2Fli%3E%3Cli%3EOpnamedatum%3A%20'%2Cstr(%3Fopnamedatum)%2C'%3C%2Fli%3E%3Cli%3ERegistratiedatum%3A%20'%2Cstr(%3Fregistratiedatum)%2C'%3C%2Fli%3E%3C%2Ful%3E%3Ch5%3E')%2C'')%20as%20%3FenergielabelString2)%0A%20%20%23%20HTML%20label%3A%20KvK%0A%20%20bind%20(if(bound(%3Fbedrijf)%2Cconcat('%3Ch5%3E%F0%9F%8F%AA%20KvK%20informatie%3A%3C%2Fh5%3E%3Cul%3E%3Cli%3E'%2Cstr(%3Fnaam)%2C'%3C%2Fli%3E%3Cli%3E'%2Cstr(%3Flegal)%2C'%3C%2Fli%3E%3Cli%3ESBI%3A%20'%2Cstr(%3Fsbi)%2C'%3C%2Fli%3E%3Cli%3EWerknemers%3A%20'%2Cstr(%3Fwerknemers)%2C'%3C%2Fli%3E%3C%2Ful%3E')%2C'')%20as%20%3FbedrijfString)%0A%20%20%23%20HTML%20label%0A%20%20bind%20(concat('%3Ch4%3E'%2C%3FenergielabelString1%2Cstr(%3FopenbareRuimteNaam)%2C'%20'%2Cstr(%3Fhuisnummer)%2C'%2C%20'%2Cstr(%3Fpostcode)%2C'%20'%2Cstr(%3FwoonplaatsNaam)%2C'%3C%2Fh4%3E'%2C%3FenergielabelString2%2C%3FbedrijfString%2C%3FmonumentString2%2C'%3Ch5%3E%3Ca%20href%3D%22'%2Cstr(%3Fverblijfsobject)%2C'%22%3EVerblijfsobject%3C%2Fa%3E%3A%3C%2Fh5%3E%3Cul%3E%3Cli%3EWoonplaats%3A%20%3Ca%20href%3D%22'%2Cstr(%3Fwoonplaats)%2C'%22%3E'%2Cstr(%3FwoonplaatsNaam)%2C'%3C%2Fa%3E%3C%2Fli%3E%3Cli%3EOppervlakte%3A%20'%2Cstr(%3Foppervlakte)%2C'm%C2%B2%3C%2Fli%3E%3Cli%3EStatus%3A%20%3Ca%20href%3D%22'%2Cstr(%3FverblijfsobjectStatus)%2C'%22%3E'%2Cstr(%3FverblijfsobjectStatusLabel)%2C'%3C%2Fa%3E%3C%2Fli%3E%3C%2Ful%3E%3Ch5%3E%3Ca%20href%3D%22'%2Cstr(%3Fpand)%2C'%22%3EPand%3C%2Fa%3E%3A%3C%2Fh5%3E%3Cul%3E%3Cli%3EBouwjaar%3A%20'%2Cstr(%3Fbouwjaar)%2C'%3C%2Fli%3E%3Cli%3EStatus%3A%20%3Ca%20href%3D%22'%2Cstr(%3FpandStatus)%2C'%22%3E'%2Cstr(%3FpandStatusLabel)%2C'%3C%2Fa%3E%3C%2Fli%3E%3C%2Ful%3E')%20as%20%3FshapeLabel)%0A%20%20%23%20tekst%20label%0A%20%20bind%20(concat(str(%3FopenbareRuimteNaam)%2C'%20'%2Cstr(%3Fhuisnummer)%2C'%2C%20'%2Cstr(%3FwoonplaatsNaam))%20as%20%3FshapeName)%0A%7D%0Agroup%20by%20%3Fshape%20%3FshapeColor%20%3FshapeHeight%20%3FshapeName%20%3FshapeZ%0Alimit%20250%0A&endpoint=https%3A%2F%2Fdata.labs.pdok.nl%2Fsparql&requestMethod=POST&tabTitle=Query%203&headers=%7B%7D&contentTypeConstruct=text%2Fturtle%2C*%2F*%3Bq%3D0.9&contentTypeSelect=application%2Fsparql-results%2Bjson%2C*%2F*%3Bq%3D0.9&outputFormat=geo3d" target="_blank">Querying 4 datasets</a></h3>
            <figure class="left">
              <a href="/resource/img/3d/3d-results-cesium.png" target="_blank">
                <img src="/resource/img/3d/3d-results-cesium.png">
              </a>
            </figure>
            <div class="right small">
              <dl>
                <dt>Kadaster</dt>
                <dd>BAG</dd>
                <dt>Kamer van Koophandel (KvK)</dt>
                <dd>Bedrijfsvestigingen</dd>
                <dt>Rijksdienst voor het Cultureel Erfgoed (RCE)</dt>
                <dd>Monumentenregister &amp; Beeldbank</dd>
                <dt>Rijksdienst voor Ondernemend Nederland (RVO)</dt>
                <dd>Energielabels</dd>
            </div>
          </section>
        </section>



        <section>
          <section>
            <h2>Part IV: Querying the LOD Cloud</h2>
          </section>

          <section>
            <h3>Linked Open Data Cloud</h3>
            <figure>
              <a href="/resource/img/lod-cloud/lod-cloud-2017.png">
                <img src="/resource/img/lod-cloud/lod-cloud-2017.png">
              </a>
            </figure>
          </section>

          <section>
            <h3><a href="http://yasgui.org/#query=prefix+brt%3A+%3Chttp%3A%2F%2Fbrt.basisregistraties.overheid.nl%2Fdef%2Ftop10nl%23%3E%0Aprefix+dbo%3A+%3Chttp%3A%2F%2Fdbpedia.org%2Fontology%2F%3E%0Aprefix+foaf%3A+%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0Aprefix+geo%3A+%3Chttp%3A%2F%2Fwww.opengis.net%2Font%2Fgeosparql%23%3E%0Aprefix+rdfs%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0Aprefix+xsd%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema%23%3E%0Aselect+%3Fshape+%3FshapeLabel+%7B%0A++bind+(%22Amsterdam%22+as+%3Fnaam)%0A++bind+(strdt(%3Fnaam%2Cxsd%3Astring)+as+%3Fx)%0A++%3Fplace1+rdfs%3Alabel+%3Fx+%3B+brt%3AisBAGwoonplaats+true+%3B+geo%3AhasGeometry%2Fgeo%3AasWKT+%3Fshape+.%0A++bind+(strlang(%3Fnaam%2C%22nl%22)+as+%3Fy)%0A++service+%3Chttps%3A%2F%2Fdbpedia.org%2Fsparql%3E+%7B%0A++++%3Fplace2+rdfs%3Alabel+%3Fy+%3B+foaf%3Adepiction+%3Fvlag+.%0A++%7D%0A++bind+(concat('%3Ch2%3E'%2C%3Fnaam%2C'%3C%2Fh2%3E'%2Cif(bound(%3Fvlag)%2Cconcat('%3Cimg+src%3D%22'%2Cstr(%3Fvlag)%2C'%22+style%3D%22max-width%3A+150px%3B%22%3E')%2C'')%2C'%3Cp%3EExterne+representatie%3A+%3Ca+href%3D%22'%2Cstr(%3Fplace2)%2C'%22%3E%5BDBpedia%5D%3C%2Fa%3E%3C%2Fp%3E')+as+%3FshapeLabel)%0A%7D%0Alimit+1%0A&contentTypeConstruct=text%2Fturtle&contentTypeSelect=application%2Fsparql-results%2Bjson&endpoint=https%3A%2F%2Fapi.krr.triply.cc%2Fdatasets%2FKadaster%2Fgeosoup2%2Fservices%2Fgeosoup%2Fsparql&requestMethod=POST&tabTitle=%F0%9F%95%B8+BRT%2FBAG+gemeente+%E2%86%92+DBpedia&headers=%7B%7D&outputFormat=leaflet" target="_blank">Dutch municipality â†’ DBpedia ðŸ•¸</a></h3>
            <pre><code class="sparql" data-noescape data-trim>prefix brt: &lt;http://brt.basisregistraties.overheid.nl/def/top10nl#&gt;
prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
prefix geo: &lt;http://www.opengis.net/ont/geosparql#&gt;
prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
select ?shape ?shapeLabel {
  ?place1 brt:isBAGwoonplaats true;
          geo:hasGeometry/geo:asWKT ?shape;
          rdfs:label "Swalmen"^^xsd:string.
  <mark>service &lt;https://dbpedia.org/sparql&gt; {</mark>
    ?place2 foaf:depiction ?vlag;
            rdfs:label "Swalmen"@nl.
  <mark>}</mark>
}
limit 1</code></pre>
            <p class="small">
              <code>service &lt;URL&gt; { A }</code> means that
              subquery <code>A</code> is executed on a different
              SPARQL endpoint.  The results are received from that
              endpoint, and integrated within the overall query
              results.
            </p>
          </section>

          <section>
            <h3><a href="http://yasgui.org/#query=prefix+brt%3A+%3Chttp%3A%2F%2Fbrt.basisregistraties.overheid.nl%2Fdef%2Ftop10nl%23%3E%0Aprefix+dbo%3A+%3Chttp%3A%2F%2Fdbpedia.org%2Fontology%2F%3E%0Aprefix+foaf%3A+%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0Aprefix+geo%3A+%3Chttp%3A%2F%2Fwww.opengis.net%2Font%2Fgeosparql%23%3E%0Aprefix+rdfs%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0Aprefix+xsd%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema%23%3E%0Aselect+%3Fshape+%3FshapeLabel+%7B%0A++bind+(%22Apeldoorn%22+as+%3Fnaam)%0A++bind+(strdt(%3Fnaam%2Cxsd%3Astring)+as+%3Fx)%0A++%3Fplace1+rdfs%3Alabel+%3Fx+%3B+brt%3AisBAGwoonplaats+true+%3B+geo%3AhasGeometry%2Fgeo%3AasWKT+%3Fshape+.%0A++bind+(strlang(%3Fnaam%2C%22nl%22)+as+%3Fy)%0A++service+%3Chttps%3A%2F%2Fdbpedia.org%2Fsparql%3E+%7B%0A++++%3Fplace2+rdfs%3Alabel+%3Fy+.%0A++++optional+%7B+%3Fplace2+foaf%3Adepiction+%3Fvlag+.+%7D%0A++%7D%0A++bind+(concat('%3Ch2%3E'%2C%3Fnaam%2C'%3C%2Fh2%3E'%2Cif(bound(%3Fvlag)%2Cconcat('%3Cimg+src%3D%22'%2Cstr(%3Fvlag)%2C'%22+style%3D%22max-width%3A+150px%3B%22%3E')%2C'')%2C'%3Cp%3EExterne+representatie%3A+%3Ca+href%3D%22'%2Cstr(%3Fplace2)%2C'%22%3E%5BDBpedia%5D%3C%2Fa%3E%3C%2Fp%3E')+as+%3FshapeLabel)%0A%7D%0Alimit+1%0A&contentTypeConstruct=text%2Fturtle&contentTypeSelect=application%2Fsparql-results%2Bjson&endpoint=https%3A%2F%2Fapi.krr.triply.cc%2Fdatasets%2FKadaster%2Fgeosoup2%2Fservices%2Fgeosoup%2Fsparql&requestMethod=POST&tabTitle=Apeldoorn+does+not+have+a+flag&headers=%7B%7D&outputFormat=leaflet" target="_blank">Apeldoorn does not have a flag</a></h3>
            <pre><code class="sparql" data-noescape data-trim>prefix brt: &lt;http://brt.basisregistraties.overheid.nl/def/top10nl#&gt;
prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
prefix geo: &lt;http://www.opengis.net/ont/geosparql#&gt;
prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
select ?shape ?shapeLabel {
  ?place1 brt:isBAGwoonplaats true;
          geo:hasGeometry/geo:asWKT ?shape;
          rdfs:label "Apeldoorn"^^xsd:string.
  service &lt;https://dbpedia.org/sparql&gt; {
    ?place2 rdfs:label "Apeldoorn"@nl.
    <mark>optional { ?place2 foaf:depiction ?vlag. }</mark>
  }
}
limit 1</code></pre>
            <p class="small">
              When you query the web, not all information is there all
              the time.  <code>optional { A }</code> makes the query
              resilient against missing information.
            </p>
          </section>

          <section>
            <h3><a href="https://yasgui.org/#query=prefix+bag%3A+%3Chttp%3A%2F%2Fbag.basisregistraties.overheid.nl%2Fdef%2Fbag%23%3E%0Aprefix+direct%3A+%3Chttp%3A%2F%2Fwww.wikidata.org%2Fprop%2Fdirect%2F%3E%0Aprefix+geo%3A+%3Chttp%3A%2F%2Fwww.opengis.net%2Font%2Fgeosparql%23%3E%0Aprefix+geof%3A+%3Chttp%3A%2F%2Fwww.opengis.net%2Fdef%2Ffunction%2Fgeosparql%2F%3E%0Aprefix+uom%3A+%3Chttp%3A%2F%2Fwww.opengis.net%2Fdef%2Fuom%2FOGC%2F1.0%2F%3E%0Aselect+%3Fwkt+%3FwktLabel+%7B%0A++service+%3Chttps%3A%2F%2Fquery.wikidata.org%2Fsparql%3E+%7B%0A++++%7B%0A++++++%3FmunicipalityWiki+direct%3AP981+%3FbagId+%3B%0A++++++++++++++++++++++++direct%3AP1082+%3Fpopulation%0A++++%7D+optional+%7B%0A++++++%3FmunicipalityWiki+direct%3AP41+%3FmunicipalityFlag%0A++++%7D%0A++%7D%0A++%3Fmunicipality+geo%3AhasGeometry%2Fgeo%3AasWKT+%3Fwkt+%3B%0A++++++++++++++++bag%3AnaamWoonplaats+%3Fname+%3B%0A++++++++++++++++bag%3Aidentificatiecode+%3FbagId%0A++bind(geof%3Aenvelope(%3Fwkt)+as+%3Frectangle)%0A++bind(%22%5EPOLYGON%5C%5Cs%5C%5C(%5C%5C((%5B0-9%5D*%5C%5C.%5B0-9%5D*)%5C%5Cs(%5B0-9%5D*%5C%5C.%5B0-9%5D*)%5C%5C%2C%5C%5Cs(%5B0-9%5D*%5C%5C.%5B0-9%5D*)%5C%5Cs(%5B0-9%5D*%5C%5C.%5B0-9%5D*)%5C%5C%2C%5C%5Cs(%5B0-9%5D*%5C%5C.%5B0-9%5D*)%5C%5Cs(%5B0-9%5D*%5C%5C.%5B0-9%5D*)%5C%5C%2C%5C%5Cs(%5B0-9%5D*%5C%5C.%5B0-9%5D*)%5C%5Cs(%5B0-9%5D*%5C%5C.%5B0-9%5D*).*%5C%5C)%5C%5C)%24%22+as+%3Fregex)%0A++bind(replace(str(%3Frectangle)%2C%3Fregex%2C%22%241%22)+as+%3Fx1)+bind(replace(str(%3Frectangle)%2C%3Fregex%2C%22%242%22)+as+%3Fy1)+bind(replace(str(%3Frectangle)%2C%3Fregex%2C%22%245%22)+as+%3Fx2)+bind(replace(str(%3Frectangle)%2C%3Fregex%2C%22%244%22)+as+%3Fy2)%0A++bind(geof%3Adistance(strdt(concat(%22Point+(%22%2Cstr(%3Fx1)%2C%22+%22%2Cstr(%3Fy1)%2C%22)%22)%2Cgeo%3AwktLiteral)%2C+strdt(concat(%22Point+(%22%2Cstr(%3Fx2)%2C%22+%22%2Cstr(%3Fy1)%2C%22)%22)%2Cgeo%3AwktLiteral)%2C+uom%3Ametre)+*+1e-3+as+%3Fx)%0A++bind(geof%3Adistance(strdt(concat(%22Point+(%22%2Cstr(%3Fx1)%2C%22+%22%2Cstr(%3Fy1)%2C%22)%22)%2Cgeo%3AwktLiteral)%2C+strdt(concat(%22Point+(%22%2Cstr(%3Fx1)%2C%22+%22%2Cstr(%3Fy2)%2C%22)%22)%2Cgeo%3AwktLiteral)%2C+uom%3Ametre)+*+1e-3+as+%3Fy)%0A++bind(%3Fx+*+%3Fy+as+%3Farea)%0A++bind+(%3Fpopulation+%2F+%3Farea+as+%3Fdensity)%0A++bind+(concat('%3Cdiv%3E%3Ca+href%3D%22'%2Cstr(%3Fmunicipality)%2C'%22%3E%3Ch3%3E'%2C%3Fname%2C'%3C%2Fh3%3E%3C%2Fa%3E%3C%2Fdiv%3E%3Cdiv+style%3D%22display%3A+flex%3B%22%3E%3Cdiv%3E%3Cdiv%3EPopulation%3A+'%2Cstr(%3Fpopulation)%2C'%3C%2Fdiv%3E%3Cdiv%3EArea%3A+'%2Cstr(xsd%3Ainteger(%3Farea))%2C'+km%C2%B2%3C%2Fdiv%3E%3Cdiv%3EDensity%3A+'%2Cstr(xsd%3Ainteger(%3Fdensity))%2C'+%F0%9F%91%A4%2Fkm%C2%B2%3C%2Fdiv%3E%3C%2Fdiv%3E'%2Cif(bound(%3FmunicipalityFlag)%2Cconcat('%3Cdiv%3E%3Cimg+src%3D%22'%2Cstr(%3FmunicipalityFlag)%2C'%22+style%3D%22width%3A+60px%3B%22%3E%3C%2Fdiv%3E')%2C'')%2C'%3C%2Fdiv%3E')+as+%3FwktLabel)%0A%7D%0Aorder+by+desc(%3Fdensity)%0Alimit+25%0A&contentTypeConstruct=text%2Fturtle&contentTypeSelect=application%2Fsparql-results%2Bjson&endpoint=https%3A%2F%2Fdata.pdok.nl%2Fsparql&requestMethod=POST&tabTitle=Putting+it+all+together&headers=%7B%7D&outputFormat=leaflet" target="_blank">Population density</a></h3>
            <figure>
              <a href="/resource/img/geo/population-density.png" target="_blank">
                <img src="/resource/img/geo/population-density.png">
              </a>
            </figure>
          </section>
        </section>

        <section>
          <h2>Thank you for your attention!</h2>
          <ul>
            <li>WWW: <a href="http://demo.triply.cc">demo.triply.cc</a></li>
            <li>Email: <a href="mailto:wouter@triply.cc">wouter@triply.cc</a></li>
            <li>Twitter: <a href="https://twitter/WGJBeek"><code>@WGJBeek</code></a></li>
          </ul>
          <br>
          <a href="https://triply.cc/" target="_blank">
            <img src="/resource/img/triply/logo.svg" height="150">
          </a>
        </section>

      </div>
    </div>
    <script src="/resource/reveal.js-3.7.0/lib/js/head.min.js"></script>
    <script src="/resource/reveal.js-3.7.0/js/reveal.js"></script>
    <script>
			// More info https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,
        transition: 'slide', // none/fade/slide/convex/concave/zoom
				// More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
          // Cross-browser shim that fully implements classList - https://github.com/eligrey/classList.js/
		      { src: '/resource/reveal.js-3.7.0/js/classList.js', condition: function() { return !document.body.classList; } },
		      // Interpret Markdown in <section> elements
		      { src: '/resource/reveal.js-3.7.0/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
		      { src: '/resource/reveal.js-3.7.0/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
		      // Syntax highlight for <code> elements
		      { src: '/resource/reveal.js-3.7.0/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
		      // Zoom in and out with Alt+click
		      { src: '/resource/reveal.js-3.7.0/plugin/zoom-js/zoom.js', async: true },
		      // Speaker notes
		      { src: '/resource/reveal.js-3.7.0/plugin/notes/notes.js', async: true },
		      // MathJax
		      { src: '/resource/reveal.js-3.7.0/plugin/math/math.js', async: true }
        ]
      });
    </script>
  </body>
</html>
